in_source: |-
  (begin
      (setq a 5)
      (defun square (begin x) (begin (* x x)))
      (defun factorial (begin x)
          (begin
              (setq b (square x))
              (cond
                  (<= x 1) (begin 1)
                  (> x 1) (begin (* x (factorial (- x 1))))
              )
          )
      )
      (setq a (factorial a))
  )
in_stdin: |
out_stdout: |
  ============================================================
out_code: !!binary |
  BTgAAAAAAAUf+AAAAAADhDnAAAAAAAAQz7gAAM+wAAAf8AAAAAADhc14AAB4eAAAAAADhQAAA4UB
  BwAAToAAADnAAAAAAABRz7gAAM+wAAAf8AAAAAADhs14AAAGuAAAAAADhs14AAAGuAAAAAADh814
  AAAGuAAAAAADhs14AABKQAAAAAAABs+4AAAf+AAAAAADh8+4AAAf+AAAAAADhh/AAAAAAAOHBTAA
  AAAAAAFxbgAAAAADhkboAAAAAAAzBSgAAAAAAAEBPQAABSgAAAAAAAFxdQAAAAADhkNwAAAAAABP
  BrAAAAAAA4bNcAAABrAAAAAAA4fNcAAABTAAAAAAAAF0LgAAAAADhs1oAABKQAAAAAAAEs+oAAAf
  6AAAAAADh8+oAAAf6AAAAAADhoGoAAAAAAOGAT0AAAEHAABOgAAABrgAAAAAA4TNeAAABrgAAAAA
  A4TNeAAASkAAAAAAABLPuAAAH/gAAAAAA4QfwAAAAAADhNEAAAA=
out_log: |-
  DEBUG    root:machine.py:553 TICK:    1 PC:   0 SP: 1023 INSTR: MOV_imm2r R7 5
  DEBUG    root:machine.py:553 TICK:    2 PC:   0 SP: 1023 INSTR: MOV_imm2r R7 5
  DEBUG    root:machine.py:553 TICK:    3 PC:   0 SP: 1023 INSTR: MOV_imm2r R7 5
  DEBUG    root:machine.py:553 TICK:    4 PC:   0 SP: 1023 INSTR: MOV_imm2r R7 5
  DEBUG    root:machine.py:553 TICK:    5 PC:   1 SP: 1023 VALUE:   5
  DEBUG    root:machine.py:553 TICK:    6 PC:   1 SP: 1023 VALUE:   5
  DEBUG    root:machine.py:553 TICK:    7 PC:   1 SP: 1023 VALUE:   5
  DEBUG    root:machine.py:553 TICK:    8 PC:   1 SP: 1023 VALUE:   5
  DEBUG    root:machine.py:553 TICK:    9 PC:   2 SP: 1023 INSTR: STORE_r2da R7 900
  DEBUG    root:machine.py:553 TICK:   10 PC:   2 SP: 1023 INSTR: STORE_r2da R7 900
  DEBUG    root:machine.py:553 TICK:   11 PC:   2 SP: 1023 INSTR: STORE_r2da R7 900
  DEBUG    root:machine.py:553 TICK:   12 PC:   2 SP: 1023 INSTR: STORE_r2da R7 900
  DEBUG    root:machine.py:553 TICK:   13 PC:   2 SP: 1023 INSTR: STORE_r2da R7 900
  DEBUG    root:machine.py:553 TICK:   14 PC:   2 SP: 1023 INSTR: STORE_r2da R7 900
  DEBUG    root:machine.py:553 TICK:   15 PC:   3 SP: 1023 VALUE: 900
  DEBUG    root:machine.py:553 TICK:   16 PC:   3 SP: 1023 VALUE: 900
  DEBUG    root:machine.py:553 TICK:   17 PC:   3 SP: 1023 VALUE: 900
  DEBUG    root:machine.py:553 TICK:   18 PC:   3 SP: 1023 VALUE: 900
  DEBUG    root:machine.py:553 TICK:   19 PC:   3 SP: 1023 VALUE: 900
  DEBUG    root:machine.py:553 TICK:   20 PC:   3 SP: 1023 VALUE: 900
  DEBUG    root:machine.py:553 TICK:   21 PC:   3 SP: 1023 VALUE: 900
  DEBUG    root:machine.py:553 TICK:   22 PC:   3 SP: 1023 VALUE: 900
  DEBUG    root:machine.py:553 TICK:   23 PC:   3 SP: 1023 VALUE: 900
  DEBUG    root:machine.py:553 TICK:   24 PC:   3 SP: 1023 VALUE: 900
  DEBUG    root:machine.py:553 TICK:   25 PC:   3 SP: 1023 VALUE: 900
  DEBUG    root:machine.py:553 TICK:   26 PC:   3 SP: 1023 VALUE: 900
  DEBUG    root:machine.py:553 TICK:   27 PC:   4 SP: 1023 INSTR: JMP_imm 16
  DEBUG    root:machine.py:553 TICK:   28 PC:   4 SP: 1023 INSTR: JMP_imm 16
  DEBUG    root:machine.py:553 TICK:   29 PC:   4 SP: 1023 INSTR: JMP_imm 16
  DEBUG    root:machine.py:553 TICK:   30 PC:   4 SP: 1023 INSTR: JMP_imm 16
  DEBUG    root:machine.py:553 TICK:   31 PC:   4 SP: 1023 INSTR: JMP_imm 16
  DEBUG    root:machine.py:553 TICK:   32 PC:   4 SP: 1023 INSTR: JMP_imm 16
  DEBUG    root:machine.py:553 TICK:   33 PC:   5 SP: 1023 VALUE:  16
  DEBUG    root:machine.py:553 TICK:   34 PC:   5 SP: 1023 VALUE:  16
  DEBUG    root:machine.py:553 TICK:   35 PC:   5 SP: 1023 VALUE:  16
  DEBUG    root:machine.py:553 TICK:   36 PC:   5 SP: 1023 VALUE:  16
  DEBUG    root:machine.py:553 TICK:   37 PC:   5 SP: 1023 VALUE:  16
  DEBUG    root:machine.py:553 TICK:   38 PC:   5 SP: 1023 VALUE:  16
  DEBUG    root:machine.py:553 TICK:   39 PC:   5 SP: 1023 VALUE:  16
  DEBUG    root:machine.py:553 TICK:   40 PC:   5 SP: 1023 VALUE:  16
  DEBUG    root:machine.py:553 TICK:   41 PC:  16 SP: 1023 INSTR: JMP_imm 81
  DEBUG    root:machine.py:553 TICK:   42 PC:  16 SP: 1023 INSTR: JMP_imm 81
  DEBUG    root:machine.py:553 TICK:   43 PC:  16 SP: 1023 INSTR: JMP_imm 81
  DEBUG    root:machine.py:553 TICK:   44 PC:  16 SP: 1023 INSTR: JMP_imm 81
  DEBUG    root:machine.py:553 TICK:   45 PC:  16 SP: 1023 INSTR: JMP_imm 81
  DEBUG    root:machine.py:553 TICK:   46 PC:  16 SP: 1023 INSTR: JMP_imm 81
  DEBUG    root:machine.py:553 TICK:   47 PC:  17 SP: 1023 VALUE:  81
  DEBUG    root:machine.py:553 TICK:   48 PC:  17 SP: 1023 VALUE:  81
  DEBUG    root:machine.py:553 TICK:   49 PC:  17 SP: 1023 VALUE:  81
  DEBUG    root:machine.py:553 TICK:   50 PC:  17 SP: 1023 VALUE:  81
  DEBUG    root:machine.py:553 TICK:   51 PC:  17 SP: 1023 VALUE:  81
  DEBUG    root:machine.py:553 TICK:   52 PC:  17 SP: 1023 VALUE:  81
  DEBUG    root:machine.py:553 TICK:   53 PC:  17 SP: 1023 VALUE:  81
  DEBUG    root:machine.py:553 TICK:   54 PC:  17 SP: 1023 VALUE:  81
  DEBUG    root:machine.py:553 TICK:   55 PC:  81 SP: 1023 INSTR: MOV_da2r R7 900
  DEBUG    root:machine.py:553 TICK:  EOF
out_code_hex: |2-
     0: MOV_imm2r R7 5            0538000000000005
     2: STORE_r2da R7 900         1FF8000000000384
     4: JMP_imm 16                39C0000000000010
     6: POP R7                    CFB80000
     7: POP R6                    CFB00000
     8: STORE_r2da R6 901         1FF0000000000385
    10: PUSH R7                   CD780000
    11: MUL_mem2reg R7 901 901    787800000000038500000385
    14: MOV_r2r R0 R7             01070000
    15: RET                       4E800000
    16: JMP_imm 81                39C0000000000051
    18: POP R7                    CFB80000
    19: POP R6                    CFB00000
    20: STORE_r2da R6 902         1FF0000000000386
    22: PUSH R7                   CD780000
    23: MOV_da2r R7 902           06B8000000000386
    25: PUSH R7                   CD780000
    26: MOV_da2r R7 903           06B8000000000387
    28: PUSH R7                   CD780000
    29: MOV_da2r R7 902           06B8000000000386
    31: PUSH R7                   CD780000
    32: CALL 6                    4A40000000000006
    34: POP R7                    CFB80000
    35: STORE_r2da R7 903         1FF8000000000387
    37: POP R7                    CFB80000
    38: STORE_r2da R7 902         1FF8000000000386
    40: STORE_r2da R0 903         1FC0000000000387
    42: MOV_imm2r R6 1            0530000000000001
    44: SUB_mix2reg1 R5 R6 902    716E000000000386
    46: BLZ R5 51                 46E8000000000033
    48: MOV_imm2r R5 1            0528000000000001
    50: MOV_r2r R7 R5             013D0000
    51: MOV_imm2r R5 1            0528000000000001
    53: SUB_mix2reg1 R6 R5 902    7175000000000386
    55: BGZ R6 79                 437000000000004F
    57: MOV_da2r R6 902           06B0000000000386
    59: PUSH R6                   CD700000
    60: MOV_da2r R6 903           06B0000000000387
    62: PUSH R6                   CD700000
    63: MOV_imm2r R6 1            0530000000000001
    65: SUB_mix2reg2 R5 R6 902    742E000000000386
    67: PUSH R5                   CD680000
    68: CALL 18                   4A40000000000012
    70: POP R5                    CFA80000
    71: STORE_r2da R5 903         1FE8000000000387
    73: POP R5                    CFA80000
    74: STORE_r2da R5 902         1FE8000000000386
    76: MUL_mix2reg1 R5 R0 902    81A8000000000386
    78: MOV_r2r R7 R5             013D0000
    79: MOV_r2r R0 R7             01070000
    80: RET                       4E800000
    81: MOV_da2r R7 900           06B8000000000384
    83: PUSH R7                   CD780000
    84: MOV_da2r R7 900           06B8000000000384
    86: PUSH R7                   CD780000
    87: CALL 18                   4A40000000000012
    89: POP R7                    CFB80000
    90: STORE_r2da R7 900         1FF8000000000384
    92: STORE_r2da R0 900         1FC0000000000384
    94: HLT                       D1000000
